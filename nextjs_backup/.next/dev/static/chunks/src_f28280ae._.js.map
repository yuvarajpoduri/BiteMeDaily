{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Full%20Stack/MERN%20Stack/Projects/BiteMeDaily/src/app/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { auth } from '@/auth';\r\nimport dbConnect from '@/lib/db';\r\nimport User from '@/models/User';\r\nimport { revalidatePath } from 'next/cache';\r\n\r\nexport async function toggleSaveContent(contentId: string, currentState: boolean) {\r\n  const session = await auth();\r\n  if (!session?.user?.email) {\r\n    return { error: \"Not authenticated\" };\r\n  }\r\n\r\n  try {\r\n    await dbConnect();\r\n    const user = await User.findOne({ email: session.user.email });\r\n    \r\n    if (!user) {\r\n        return { error: \"User not found\" };\r\n    }\r\n\r\n    if (currentState) {\r\n      // It was saved, so remove it\r\n      // Filter out specific ID safely\r\n      user.savedContentIds = user.savedContentIds.filter((id: string) => id !== contentId);\r\n    } else {\r\n      // It was not saved, so add it\r\n      if (!user.savedContentIds.includes(contentId)) {\r\n        user.savedContentIds.push(contentId);\r\n      }\r\n    }\r\n\r\n    await user.save();\r\n    revalidatePath('/saved');\r\n    revalidatePath('/home'); // Optional, mainly for sync\r\n    return { success: true, saved: !currentState };\r\n  } catch (error) {\r\n    console.error(\"Save error:\", error);\r\n    return { error: \"Failed to save\" };\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAOsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,qDAAA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Full%20Stack/MERN%20Stack/Projects/BiteMeDaily/src/app/actions/tracking.ts"],"sourcesContent":["'use server';\r\n\r\nimport { auth } from '@/auth';\r\nimport dbConnect from '@/lib/db';\r\nimport User from '@/models/User';\r\n\r\nexport async function trackCategoryView(category: string) {\r\n  const session = await auth();\r\n  if (!session?.user?.email) return;\r\n  \r\n  try {\r\n    await dbConnect();\r\n    const user = await User.findOne({ email: session.user.email });\r\n    if (user) {\r\n      if (!user.interactionProfile) {\r\n        user.interactionProfile = { categoryScores: {}, totalReads: 0 };\r\n      }\r\n      \r\n      const currentScore = user.interactionProfile.categoryScores.get(category) || 0;\r\n      user.interactionProfile.categoryScores.set(category, currentScore + 1);\r\n      user.interactionProfile.totalReads += 1;\r\n      user.interactionProfile.lastActive = new Date();\r\n      \r\n      await user.save();\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Tracking error\", error);\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAMsB,wBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA,qDAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Full%20Stack/MERN%20Stack/Projects/BiteMeDaily/src/components/ContentCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Bookmark, Share2, Info } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport clsx from 'clsx';\r\nimport { toggleSaveContent } from '@/app/actions';\r\nimport { trackCategoryView } from '@/app/actions/tracking';\r\nimport Image from 'next/image';\r\n\r\n// Define category colors map\r\nconst categoryColors: Record<string, string> = {\r\n  News: 'border-accent-blue text-accent-blue',\r\n  Entertainment: 'border-accent-orange text-accent-orange',\r\n  'History Stories': 'border-accent-yellow text-accent-yellow',\r\n  Facts: 'border-accent-green text-accent-green',\r\n  'Health Suggestions': 'border-pink-500 text-pink-500', \r\n  Placements: 'border-purple-500 text-purple-500',\r\n  Companies: 'border-indigo-500 text-indigo-500', \r\n  'Computer Science Tools': 'border-cyan-500 text-cyan-500',\r\n  Default: 'border-gray-500 text-gray-500'\r\n};\r\n\r\ninterface ContentCardProps {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  source?: string;\r\n  imageUrl?: string;\r\n  isSaved?: boolean;\r\n  onSave?: (id: string, currentlySaved: boolean) => void;\r\n}\r\n\r\nexport default function ContentCard({ \r\n  id, \r\n  title, \r\n  description, \r\n  category, \r\n  source, \r\n  imageUrl, \r\n  isSaved = false, \r\n  onSave \r\n}: ContentCardProps) {\r\n  const [saved, setSaved] = useState(isSaved);\r\n  const colorClass = categoryColors[category] || categoryColors.Default;\r\n\r\n  const handleSaveToggle = async () => {\r\n    const previousState = saved;\r\n    const newState = !saved;\r\n    setSaved(newState); // Optimistic UI\r\n    \r\n    if (onSave) {\r\n      onSave(id, previousState);\r\n    } else {\r\n      await toggleSaveContent(id, previousState); \r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: 20 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ once: true, margin: \"-50px\" }}\r\n      onViewportEnter={() => trackCategoryView(category)}\r\n      transition={{ duration: 0.4 }}\r\n      className=\"w-full mb-6 p-1\"\r\n    >\r\n      <div className=\"bg-[#111] border border-gray-800 rounded-2xl overflow-hidden shadow-lg relative ml-[0.8rem] mr-[0.8rem]\">\r\n        {/* Category Pill */}\r\n        <div className={clsx(\"absolute top-3 left-3 px-3 py-1 rounded-full border text-xs font-bold bg-black/80 backdrop-blur-sm z-10\", colorClass)}>\r\n          {category}\r\n        </div>\r\n\r\n        {/* Image Placeholder or Actual Image */}\r\n        {imageUrl ? (\r\n          <div className=\"relative w-full h-48\">\r\n            <Image \r\n              src={imageUrl} \r\n              alt={title} \r\n              fill\r\n              className=\"object-cover\"\r\n              sizes=\"(max-width: 480px) 100vw, 480px\"\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"w-full h-32 bg-gradient-to-br from-gray-900 to-black flex items-center justify-center\">\r\n            <span className=\"text-gray-700 text-sm italic\">No visuals, just vibes.</span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-5\">\r\n          <h2 className=\"text-xl font-bold text-white mb-2 leading-tight\">{title}</h2>\r\n          <p className=\"text-gray-300 text-sm leading-relaxed mb-4\">{description}</p>\r\n          \r\n          {source && (\r\n            <div className=\"flex items-center text-xs text-gray-500 mb-4 bg-gray-900/50 p-2 rounded-lg gap-2\">\r\n               <Info size={14} />\r\n               <span>Source: <span className=\"text-gray-400\">{source}</span></span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex items-center justify-between mt-2 pt-3 border-t border-gray-800\">\r\n             <button \r\n               onClick={handleSaveToggle}\r\n               className=\"flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors\"\r\n             >\r\n               <Bookmark className={clsx(\"w-5 h-5\", saved ? \"fill-accent-yellow text-accent-yellow\" : \"\")} />\r\n               {saved ? \"Saved!\" : \"Save for later\"}\r\n             </button>\r\n             \r\n             <button className=\"text-gray-400 hover:text-accent-blue transition-colors\">\r\n               <Share2 className=\"w-5 h-5\" />\r\n             </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,6BAA6B;AAC7B,MAAM,iBAAyC;IAC7C,MAAM;IACN,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,sBAAsB;IACtB,YAAY;IACZ,WAAW;IACX,0BAA0B;IAC1B,SAAS;AACX;AAae,SAAS,YAAY,EAClC,EAAE,EACF,KAAK,EACL,WAAW,EACX,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,UAAU,KAAK,EACf,MAAM,EACW;;IACjB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,aAAa,cAAc,CAAC,SAAS,IAAI,eAAe,OAAO;IAErE,MAAM,mBAAmB;QACvB,MAAM,gBAAgB;QACtB,MAAM,WAAW,CAAC;QAClB,SAAS,WAAW,gBAAgB;QAEpC,IAAI,QAAQ;YACV,OAAO,IAAI;QACb,OAAO;YACL,MAAM,IAAA,0KAAiB,EAAC,IAAI;QAC9B;IACF;IAEA,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,aAAa;YAAE,SAAS;YAAG,GAAG;QAAE;QAChC,UAAU;YAAE,MAAM;YAAM,QAAQ;QAAQ;QACxC,iBAAiB,IAAM,IAAA,qLAAiB,EAAC;QACzC,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAW,IAAA,mJAAI,EAAC,2GAA2G;8BAC7H;;;;;;gBAIF,yBACC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,2IAAK;wBACJ,KAAK;wBACL,KAAK;wBACL,IAAI;wBACJ,WAAU;wBACV,OAAM;;;;;;;;;;yCAIV,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAK,WAAU;kCAA+B;;;;;;;;;;;8BAInD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAmD;;;;;;sCACjE,6LAAC;4BAAE,WAAU;sCAA8C;;;;;;wBAE1D,wBACC,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC,6MAAI;oCAAC,MAAM;;;;;;8CACZ,6LAAC;;wCAAK;sDAAQ,6LAAC;4CAAK,WAAU;sDAAiB;;;;;;;;;;;;;;;;;;sCAIpD,6LAAC;4BAAI,WAAU;;8CACZ,6LAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,6LAAC,yNAAQ;4CAAC,WAAW,IAAA,mJAAI,EAAC,WAAW,QAAQ,0CAA0C;;;;;;wCACtF,QAAQ,WAAW;;;;;;;8CAGtB,6LAAC;oCAAO,WAAU;8CAChB,cAAA,6LAAC,uNAAM;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjC;GArFwB;KAAA"}}]
}
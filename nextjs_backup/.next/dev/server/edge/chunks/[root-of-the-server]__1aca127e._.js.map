{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/auth.config.ts"],"sourcesContent":["import type { NextAuthConfig } from 'next-auth';\r\n \r\nexport const authConfig = {\r\n  pages: {\r\n    signIn: '/login',\r\n  },\r\n  callbacks: {\r\n    authorized({ auth, request: { nextUrl } }) {\r\n      const isLoggedIn = !!auth?.user;\r\n      // Protected routes\r\n      const isProtectedRoute = \r\n        nextUrl.pathname.startsWith('/home') || \r\n        nextUrl.pathname.startsWith('/stories') || \r\n        nextUrl.pathname.startsWith('/saved');\r\n      \r\n      const isAuthRoute = nextUrl.pathname === '/login' || nextUrl.pathname === '/signup';\r\n\r\n      if (isProtectedRoute) {\r\n        if (isLoggedIn) return true;\r\n        return false; // Redirect to login\r\n      } else if (isAuthRoute) {\r\n        if (isLoggedIn) {\r\n           return Response.redirect(new URL('/home', nextUrl));\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    async session({ session, token }: any) {\r\n      if (token.sub && session.user) {\r\n        session.user.id = token.sub;\r\n      }\r\n      return session;\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    async jwt({ token }: any) {\r\n      return token;\r\n    }\r\n  },\r\n  providers: [], \r\n} satisfies NextAuthConfig;\r\n"],"names":[],"mappings":";;;;AAEO,MAAM,aAAa;IACxB,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,YAAW,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE;YACvC,MAAM,aAAa,CAAC,CAAC,MAAM;YAC3B,mBAAmB;YACnB,MAAM,mBACJ,QAAQ,QAAQ,CAAC,UAAU,CAAC,YAC5B,QAAQ,QAAQ,CAAC,UAAU,CAAC,eAC5B,QAAQ,QAAQ,CAAC,UAAU,CAAC;YAE9B,MAAM,cAAc,QAAQ,QAAQ,KAAK,YAAY,QAAQ,QAAQ,KAAK;YAE1E,IAAI,kBAAkB;gBACpB,IAAI,YAAY,OAAO;gBACvB,OAAO,OAAO,oBAAoB;YACpC,OAAO,IAAI,aAAa;gBACtB,IAAI,YAAY;oBACb,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,SAAS;gBAC7C;YACF;YACA,OAAO;QACT;QACA,8DAA8D;QAC9D,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAO;YACnC,IAAI,MAAM,GAAG,IAAI,QAAQ,IAAI,EAAE;gBAC7B,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC7B;YACA,OAAO;QACT;QACA,8DAA8D;QAC9D,MAAM,KAAI,EAAE,KAAK,EAAO;YACtB,OAAO;QACT;IACF;IACA,WAAW,EAAE;AACf"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import NextAuth from 'next-auth';\r\nimport { authConfig } from '@/auth.config';\r\n \r\nexport default NextAuth(authConfig).auth;\r\n \r\nexport const config = {\r\n  // https://nextjs.org/docs/app/building-your-application/routing/middleware#matcher\r\n  matcher: ['/((?!api|_next/static|_next/image|.*\\\\.png$).*)'],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;uCAEe,IAAA,wKAAQ,EAAC,2IAAU,EAAE,IAAI;AAEjC,MAAM,SAAS;IACpB,mFAAmF;IACnF,SAAS;QAAC;KAAkD;AAC9D"}}]
}